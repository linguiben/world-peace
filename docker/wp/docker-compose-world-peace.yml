networks:
  wp-net:
    external: true
    name: wp-net # 如果运行报错则手动创建 docker network create wp-net

services:
  wpadmin:
    image: ${REPO_URL}/world-peace-admin:1.0
    mem_limit: 200m
    user: "0:0" #run with root user (UID:GID)
    container_name: wpadmin
    hostname: wpadmin
    ports:
      - "8090:8090"
    volumes:
      - ${PERSIST_PATH}/wpadmin/logs:/logs/admin
      - ${PERSIST_PATH}/wpadmin/data:/usr/apps/wp/data
    networks:
      wp-net:
        aliases:
          - wpadmin
  wpapi:
    image: world-peace-api:1.0
    user: "0:0" #run with root user (UID:GID)
    container_name: wpapi
    hostname: wpapi
    networks:
      wp-net:
        aliases:
          - wpapi
    ports:
      - "8081:8081"
    volumes:
      - ${PERSIST_PATH}/wpapi/logs:/logs/api
  wppoc:
    image: world-peace-poc:1.0
    user: "0:0"
    container_name: wppoc
    hostname: wppoc
    networks:
      wp-net:
        aliases:
          - wppoc
    ports:
      - "18080:8080"
    volumes:
      - ${PERSIST_PATH}/wppoc/logs:/logs/poc

